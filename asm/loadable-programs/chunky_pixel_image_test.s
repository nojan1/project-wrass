    .macro copy_40_30_block, source, target_high, target_low
    lda #\target_high
    sta GRAPHICS_ADDR_HIGH
    pha
    lda #\target_low
    sta GRAPHICS_ADDR_LOW
    pha

    lda #<\source
    sta PARAM_16_1
    lda #>\source
    sta PARAM_16_1 + 1

    ldx #30
.copy_next_row\@:
    ldy #0
.copy_next_col\@:
    lda (PARAM_16_1), y
    sta GRAPHICS_DATA

    iny
    cpy #40
    bne .copy_next_col\@

    pla
    clc
    adc #64 ;Advance to next row
    sta GRAPHICS_ADDR_LOW
    
    ply
    pha

    tya
    adc #0
    sta GRAPHICS_ADDR_HIGH
    ply
    pha
    phy

    dex
    beq .copy_complete\@

    lda PARAM_16_1
    clc
    adc #40
    sta PARAM_16_1
    bcc .copy_next_row\@

    inc PARAM_16_1 + 1
    jmp .copy_next_row\@

.copy_complete\@:
    pla
    pla ; Pull of the left over data
    .endmacro
    
    .include "setup.s"

    lda #GRAPHICS_ADDR_COLORS_LOW
    sta GRAPHICS_ADDR_LOW
    lda #GRAPHICS_ADDR_COLORS_HIGH
    sta GRAPHICS_ADDR_HIGH

    lda #1
    sta GRAPHICS_INCREMENT

    ldy #0
.copy_next_pallete:
    lda image_pallete, y
    sta GRAPHICS_DATA
    iny
    cpy #16
    bne .copy_next_pallete

    copy_40_30_block image_chars, GRAPHICS_ADDR_TILEMAP_HIGH, GRAPHICS_ADDR_TILEMAP_LOW
    copy_40_30_block image_colorattributes, GRAPHICS_ADDR_COLORATTRIBUTES_HIGH, GRAPHICS_ADDR_COLORATTRIBUTES_LOW

    rts

; Pallete
image_pallete:
	db 0, 228, 245, 249, 232, 0, 255, 250, 164, 172, 68, 237, 173, 246, 196, 177

; Tiledata
image_chars:
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128
	db 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128

image_colorattributes:
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 224, 16, 16, 16, 224, 224, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 224, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 224, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 16, 16, 16, 16, 16, 64, 64, 64, 64, 64, 64, 64, 64, 16, 16, 16, 16, 224, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 224, 16, 16, 16, 16, 16, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 16, 16, 224, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 224, 16, 16, 16, 64, 32, 208, 96, 112, 208, 32, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 16, 16, 224, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 16, 16, 16, 176, 96, 96, 96, 96, 208, 96, 96, 96, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 16, 16, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 16, 16, 16, 176, 96, 208, 176, 208, 176, 64, 176, 96, 96, 96, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 16, 16, 16, 16, 224, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 16, 16, 16, 208, 96, 176, 176, 176, 176, 96, 176, 16, 208, 96, 176, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 224, 16, 16, 16, 208, 96, 176, 176, 96, 96, 96, 96, 176, 208, 96, 176, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 16, 16, 16, 16, 64, 96, 208, 176, 96, 96, 96, 208, 208, 208, 176, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 128, 128, 128, 128, 128, 128, 128, 0, 0, 0, 0, 0, 0
	db 0, 0, 16, 16, 16, 16, 16, 64, 208, 208, 192, 192, 128, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 128, 128, 128, 128, 128, 128, 32, 32, 48, 32, 0, 0, 0, 0
	db 0, 0, 0, 16, 16, 16, 16, 16, 128, 128, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 128, 16, 128, 176, 32, 32, 144, 160, 144, 32, 112, 112, 32, 32, 32, 0, 0, 0
	db 0, 0, 0, 224, 16, 16, 16, 128, 16, 16, 16, 128, 128, 128, 128, 128, 144, 80, 80, 160, 144, 144, 0, 240, 48, 48, 32, 32, 144, 160, 144, 48, 112, 32, 32, 32, 48, 32, 0, 0
	db 0, 0, 0, 0, 0, 128, 128, 128, 160, 80, 80, 160, 0, 0, 144, 192, 0, 80, 240, 32, 0, 112, 112, 112, 112, 48, 32, 32, 144, 160, 160, 48, 112, 32, 32, 32, 48, 48, 0, 0
	db 0, 0, 0, 0, 0, 128, 160, 160, 80, 160, 160, 160, 240, 32, 48, 112, 240, 240, 96, 0, 0, 0, 192, 112, 48, 48, 48, 32, 144, 160, 160, 240, 112, 32, 32, 48, 112, 48, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 192, 144, 32, 112, 0, 192, 32, 48, 48, 48, 112, 96, 0, 80, 0, 80, 240, 48, 48, 48, 48, 192, 160, 160, 0, 48, 48, 112, 112, 112, 32, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 32, 208, 96, 0, 192, 32, 48, 48, 48, 112, 96, 0, 0, 80, 80, 0, 112, 48, 48, 48, 32, 192, 144, 160, 32, 48, 32, 48, 48, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 32, 208, 96, 0, 80, 160, 32, 48, 48, 112, 96, 96, 0, 0, 0, 0, 112, 48, 112, 48, 48, 32, 192, 160, 32, 48, 32, 32, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 96, 0, 80, 80, 240, 48, 48, 48, 96, 96, 96, 0, 0, 96, 112, 240, 0, 240, 48, 32, 32, 144, 32, 32, 32, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 112, 96, 0, 0, 0, 32, 48, 48, 112, 96, 96, 96, 112, 48, 48, 80, 80, 80, 192, 48, 32, 32, 32, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 112, 96, 96, 112, 32, 32, 32, 32, 32, 112, 48, 48, 112, 0, 80, 80, 80, 160, 32, 32, 32, 32, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 192, 48, 32, 32, 32, 32, 32, 32, 32, 32, 32, 48, 48, 0, 80, 80, 80, 80, 192, 32, 32, 32, 32, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 80, 32, 32, 32, 32, 48, 48, 48, 32, 32, 32, 192, 80, 80, 0, 80, 80, 192, 32, 32, 32, 32, 64, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 160, 32, 32, 48, 48, 112, 112, 112, 48, 32, 32, 144, 80, 0, 80, 80, 80, 240, 32, 32, 32, 32, 144, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 144, 32, 32, 48, 48, 112, 112, 112, 48, 32, 32, 144, 80, 80, 80, 80, 160, 32, 32, 32, 32, 144, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 32, 32, 48, 48, 48, 32, 32, 32, 160, 80, 80, 0, 144, 32, 32, 32, 64, 144, 0, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 32, 32, 32, 32, 0, 80, 80, 0, 192, 64, 32, 144, 144, 144, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 144, 0, 80, 80, 160, 160, 128, 32, 144, 144, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 240, 176, 176, 32, 32, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
